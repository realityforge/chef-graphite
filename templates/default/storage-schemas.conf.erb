# Carbon storage schemas.See http://readthedocs.org/docs/graphite/en/latest/config-carbon.html#storage-schemas-conf
#
# Generated by Chef

<% # priority has been discarded, order matters now. So ordering the schemas using the priority %>
<% node['graphite']['carbon']['storage_schemas'].sort_by{|k,v| v['priority']}.reverse.map do |key, schema| %>
[<%= key %>]
<% if schema['pattern'] -%>
pattern = <%= schema['pattern'] %>
<% end %>
<% if schema['retentions'] -%>
retentions = <%= schema['retentions'] %>
<% end %>
<% if schema['x_files_factor'] -%>
xFilesFactor = <%= schema['x_files_factor'] %>
<% end %>
<% if schema['aggregation_method'] -%>
aggregationMethod = <%= schema['aggregation_method'] %>
<% end %>
<% end %>
